module.exports=OkPacket;function OkPacket(a){a=a||{};this.fieldCount=undefined;this.affectedRows=undefined;this.insertId=undefined;this.serverStatus=undefined;this.warningCount=undefined;this.message=undefined;this.protocol41=a.protocol41}OkPacket.prototype.parse=function(b){this.fieldCount=b.parseUnsignedNumber(1);this.affectedRows=b.parseLengthCodedNumber();this.insertId=b.parseLengthCodedNumber();if(this.protocol41){this.serverStatus=b.parseUnsignedNumber(2);this.warningCount=b.parseUnsignedNumber(2)}this.message=b.parsePacketTerminatedString();this.changedRows=0;var a=this.message.match(/\schanged:\s*(\d+)/i);if(a!==null){this.changedRows=parseInt(a[1],10)}};OkPacket.prototype.write=function(a){a.writeUnsignedNumber(1,0);a.writeLengthCodedNumber(this.affectedRows||0);a.writeLengthCodedNumber(this.insertId||0);if(this.protocol41){a.writeUnsignedNumber(2,this.serverStatus||0);a.writeUnsignedNumber(2,this.warningCount||0)}a.writeString(this.message)};